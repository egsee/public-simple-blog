!function(){var e=decodeURIComponent((function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(r[0]===e)return decodeURIComponent(r[1].replace(/\+/g,"%20")).trim()}}("q")||"").replace(/\+/g,"%20")),o=["url","score"],l=["score"],s='<li style="margin-top:20px"><h3><a href="'+baseUrl+'{url}">{title}</a></h3><p><small>{content}</small></p></li>';const t=document.getElementById("search-input");function n(e,t,n){const r=[];for(k in e){var i=JSON.parse(JSON.stringify(e[k]));!function(t,e){for(key in t)if(-1===o.indexOf(key))if(e.split(" ").filter(e=>0<=t[key].trim().toLowerCase().indexOf(e.toLowerCase())).length===e.split(" ").length)return t.score="title"===key?1e3:1,!0;return!1}(i,t)||r.push(i)}return n(r,t)}function r(e){const t=document.getElementById("results-container");e?n(data,e,(e,i)=>{var o="<p style='text-align:center;margin-top:5rem'>没有关于 <strong>"+i+"</strong> 的搜索结果</p>";e.length&&(o="",e.sort(function(e,t){return t.score-e.score}),e.map(e=>{var t,n=s;for(const r in e)0<=["title","content"].indexOf(r)&&(t=e[r],e[r]=function(e,t,n){n=n||2*t.length;for(var r,i,o=e.split(" "),l=t.toLowerCase().indexOf(e.toLowerCase()),s=e.length,a=0;a<o.length&&!(0<=l);a++)l=t.toLowerCase().indexOf(o[a].toLowerCase()),s=o[a].length;return i=0<=l?(e=0<(r=l-n/2)?l+s+n/2:n,i=t.substring(r,e).trim(),0<r&&(i="..."+i),e<t.length&&(i+="..."),i.replace(new RegExp("("+o.join("|")+")","gi"),'<span class="highlight-search-key"><strong>$1</strong></span>')):t.substring(0,n).trim()+(t.length>n?"...":"")}(i,t,"title"===r?null:175)),-1===l.indexOf(r)&&(n=n.replace("{"+r+"}",e[r]));o+=n})),document.getElementById("results-container").innerHTML=o}):t.innerHTML="<p style='text-align:center;margin-top:5rem'>等待输入关键词...</p>"}let i;r(e),t.addEventListener("input",function(e){var t,n;t=function(){r(e.target.value)},(n=300)?(clearTimeout(i),i=setTimeout(t,n)):t.call()})}();